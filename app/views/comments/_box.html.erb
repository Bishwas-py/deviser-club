<%= turbo_stream_from commentable, :comments %>

<%= content_tag :div,
                class: "w-full md:w-2/3 lg:w-1/3 z-20 h-full shadow left-0 backdrop-blur-sm bg-white/90 bottom-0 md:col-span-4 px-2 border-l fixed",
                id: "comment_box" do %>

  <%= button_tag "", class: "absolute fil rounded-button right-2 top-2 h-7 w-7", data: {
    controller: "comment",
    comment_id: "comment_box",
    action: 'comment#toggleComment' } do %>
    <%= icon "fa-solid", "times" %>
  <% end %>


  <div class="px-6 py-4 overflow-scroll max-h-screen cute-scroll">
    <div class="container mx-auto py-10">
      <h2 class="text-lg font-medium text-slate-600 flex justify-between mb-3">
        Comment section
        <%= turbo_frame_tag "comments_count_top", class: "rounded bg-slate-300 px-3 my-auto text-sm" do %>
          <%= commentable.comments.count %>
        <% end %>
      </h2>
      <%= render "comments/form", commentable: commentable, comment: @comment %>
    </div>

    <div class="grid gap-3" id="<%= dom_id commentable %>_comments">
      <%= render @comments %>
    </div>
  </div>
<% end %>