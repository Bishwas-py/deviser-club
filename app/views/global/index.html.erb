<%= content_for(:title, "Deviser Club ~ A club for anon discussion ~ Rails App") %>

<%= render "components/aside_bar" do %>
  <main id="all_posts" class="h-auto min-h-screen min-w-0 block text-sm smart-padding pt-28 divide-y">
    <%= link_to new_quick_tweet_path, class: "group flex space-x-2 text-center mb-7 text-xl" do %>
      <div class="group-hover:rotate-180 duration-200 group-hover:bg-stone-200 rounded-full bg-stone-100 w-9 h-9 grid place-items-center">
        <%= icon "fa-regular", "plus", class: "text-xl" %>
      </div>
      <div class="self-center">
        Add a new quick tweet
      </div>
    <% end %>
    <%= render @all_posts %>
  </main>

  <footer
    class="flex bg-white/80 dark:bg-black/80 dark:text-indigo-100
                h-24 w-full items-center justify-center border-t dark:border-gray-900">
    <a
      class="flex items-center justify-center gap-2"
      href="https://webmatrices.com/"
      target="_blank"
      rel="noopener noreferrer"
    >
      Powered by
      <span class="text-2xl font-bold">Webmatrices</span>
    </a>
  </footer>
  <%= content_for :right_aside_bar do %>
    <div class="p-3 flex flex-col gap-5">
      <h2 class="text-2xl font-extrabold text-neutral-700">Latest Posts</h2>
      <%= render "global/post_titles", posts: Post.last(5) %>
    </div>
    <div class="p-3 flex flex-col gap-5">
      <h2 class="text-2xl font-extrabold text-neutral-700">Latest Comments</h2>
      <%= render "global/post_comments", comments: Post.last(7).map(&:comments).reduce([]) { |union, comment| union + comment } %>
    </div>
  <% end %>
<% end %>